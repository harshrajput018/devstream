# Project Directory Context


## FILE: next-env.d.ts

```ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.

```
---

## FILE: next.config.ts

```ts
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;

```
---

## FILE: package.json

```json
{
  "name": "devstream",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@ai-sdk/google": "^3.0.15",
    "@google/generative-ai": "^0.24.1",
    "@monaco-editor/react": "^4.7.0",
    "ai": "^6.0.57",
    "framer-motion": "^12.29.2",
    "lucide-react": "^0.563.0",
    "next": "16.1.6",
    "react": "19.2.3",
    "react-dom": "19.2.3"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.1.6",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}

```
---

## FILE: src/app/api/review/route.ts

```ts
import { NextResponse } from "next/server";

export async function POST(req: Request) {
  try {
    const { code } = await req.json();
    const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;

    if (!apiKey) {
      return NextResponse.json({ error: "API Key missing" }, { status: 500 });
    }

    // Using the exact model name from your available list
    const url = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=" + apiKey;

    const response = await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        contents: [{
          parts: [{
            text: "You are a world-class security researcher and developer. Review this code for bugs, security leaks, and performance. Return ONLY a valid JSON object. Format: {\"summary\": \"...\", \"reviews\": [{\"line\": 1, \"suggestion\": \"...\"}]}. Code: " + code
          }]
        }]
      })
    });

    const data = await response.json();

    if (!response.ok) {
      return NextResponse.json({ error: data.error?.message || "API Error" }, { status: response.status });
    }

    let text = data.candidates[0].content.parts[0].text;
    
    // Clean up markdown if the AI includes it
    const cleanJson = text.replace(/```json/g, "").replace(/```/g, "").trim();

    return NextResponse.json(JSON.parse(cleanJson));
  } catch (error: any) {
    console.error("Parse Error:", error);
    return NextResponse.json({ error: "AI response was not valid JSON. Please try again." }, { status: 500 });
  }
}

```
---

## FILE: src/app/globals.css

```css
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

```
---

## FILE: src/app/layout.tsx

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
      </body>
    </html>
  );
}

```
---

## FILE: src/app/page.tsx

```tsx
"use client";
import React, { useState } from 'react';
import Editor from '@monaco-editor/react';
import { Sparkles, Code2, ShieldAlert, Zap, Terminal, LayoutPanelLeft } from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';

export default function DevStream() {
  const [code, setCode] = useState("// Paste messy code here...");
  const [review, setReview] = useState<any>(null);
  const [loading, setLoading] = useState(false);

  const handleReview = async () => {
    setLoading(true);
    try {
      const res = await fetch('/api/review', {
        method: 'POST',
        body: JSON.stringify({ code }),
      });
      const data = await res.json();
      setReview(data);
    } catch (e) {
      console.error(e);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-[#050505] text-slate-300 font-sans selection:bg-blue-500/30">
      {/* Animated Gradient Background */}
      <div className="fixed inset-0 bg-[radial-gradient(circle_at_50%_50%,#1e1b4b,transparent_70%)] opacity-20 pointer-events-none" />

      {/* Navigation */}
      <nav className="sticky top-0 z-50 backdrop-blur-xl border-b border-white/5 bg-black/50 px-6 py-4 flex justify-between items-center">
        <div className="flex items-center gap-3">
          <div className="bg-gradient-to-br from-blue-500 to-violet-600 p-2 rounded-xl shadow-lg shadow-blue-500/20">
            <Code2 size={22} className="text-white" />
          </div>
          <div>
            <h1 className="font-bold text-lg tracking-tight text-white flex items-center gap-2">
              DEVSTREAM <span className="text-[10px] bg-white/10 px-2 py-0.5 rounded-full text-blue-400 border border-white/5">PRO AI</span>
            </h1>
          </div>
        </div>
        
        <button 
          onClick={handleReview}
          disabled={loading}
          className="relative group overflow-hidden bg-white text-black px-8 py-2.5 rounded-full font-bold transition-all hover:scale-105 active:scale-95 disabled:opacity-50"
        >
          <span className="relative z-10 flex items-center gap-2 text-sm">
            {loading ? "ANAYLZING..." : <><Zap size={16} fill="black" /> RUN REVIEW</>}
          </span>
          <div className="absolute inset-0 bg-gradient-to-r from-blue-400 to-violet-400 opacity-0 group-hover:opacity-100 transition-opacity" />
        </button>
      </nav>

      <main className="flex h-[calc(100vh-76px)] relative z-10">
        {/* Editor Section */}
        <div className="flex-1 p-4">
          <div className="h-full rounded-2xl overflow-hidden border border-white/5 shadow-2xl bg-[#0d0d0d]">
            <div className="flex items-center gap-2 px-4 py-2 border-b border-white/5 bg-black/40 text-[11px] font-mono tracking-widest uppercase text-slate-500">
              <Terminal size={12} /> main_module.ts
            </div>
            <Editor
              height="100%"
              defaultLanguage="typescript"
              theme="vs-dark"
              value={code}
              onChange={(v) => setCode(v || "")}
              options={{ 
                fontSize: 15, 
                minimap: { enabled: false },
                padding: { top: 20 },
                lineNumbersMinChars: 3,
                backgroundColor: "#0d0d0d"
              }}
            />
          </div>
        </div>

        {/* Feedback Sidebar */}
        <div className="w-[450px] p-4 flex flex-col gap-4 overflow-hidden">
          <div className="flex-1 flex flex-col bg-white/[0.03] backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden shadow-2xl">
            <div className="p-5 border-b border-white/5 bg-white/[0.02]">
              <h2 className="text-sm font-bold text-white flex items-center gap-2 uppercase tracking-tighter">
                <LayoutPanelLeft size={18} className="text-blue-400" /> Analysis Report
              </h2>
            </div>

            <div className="flex-1 overflow-y-auto p-5 custom-scrollbar">
              <AnimatePresence mode="wait">
                {!review && !loading && (
                  <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="h-full flex flex-col items-center justify-center text-center p-8 border-2 border-dashed border-white/5 rounded-xl">
                    <Sparkles size={40} className="text-slate-700 mb-4" />
                    <p className="text-sm text-slate-500">Paste your code and trigger the AI to see security and logic insights.</p>
                  </motion.div>
                )}

                {loading && (
                  <div className="space-y-4">
                    {[1, 2, 3].map(i => (
                      <div key={i} className="h-24 bg-white/5 animate-pulse rounded-xl" />
                    ))}
                  </div>
                )}

                {review && (
                  <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} className="space-y-4">
                    <div className="p-4 rounded-xl bg-blue-500/10 border border-blue-500/20">
                       <p className="text-xs font-semibold text-blue-400 uppercase mb-2 tracking-widest">Summary</p>
                       <p className="text-sm text-blue-100/80 leading-relaxed">{review.summary}</p>
                    </div>
                    
                    {review.reviews?.map((r: any, i: number) => (
                      <div key={i} className="group p-4 rounded-xl bg-white/[0.03] border border-white/5 hover:border-white/20 transition-all">
                        <div className="flex justify-between items-center mb-2">
                          <span className="text-[10px] font-mono px-2 py-0.5 bg-white/5 rounded border border-white/5 text-slate-400 uppercase tracking-widest">Line {r.line}</span>
                          <ShieldAlert size={14} className="text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity" />
                        </div>
                        <p className="text-[13px] text-slate-300 leading-relaxed italic border-l-2 border-blue-500/30 pl-3">
                          {r.suggestion}
                        </p>
                      </div>
                    ))}
                  </motion.div>
                )}
              </AnimatePresence>
            </div>
          </div>
        </div>
      </main>

      <style jsx global>{`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        .monaco-editor, .overflow-guard { border-radius: 12px !important; }
      `}</style>
    </div>
  );
}

```
---

## FILE: tsconfig.json

```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}

```
---
